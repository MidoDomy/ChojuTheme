{% sw_extends '@Storefront/storefront/page/product-detail/tabs.html.twig' %}

{% block page_product_detail_tabs_inner %}
    <div class="product-detail-info">
        {% block page_product_detail_info_note %}
            {% if page.product.translated.customFields.note %}
                <div class="product-detail-info-note">
                    {{ page.product.translated.customFields.note }}
                </div>
            {% endif %}
        {% endblock %}

        <div class="accordion" id="pdpInfoAccordion">
            {% block page_product_detail_info_description %}
                {% if page.product.translated.description %}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingDescription">
                            <button class="accordion-button" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#collapseDescription" 
                                aria-expanded="true" 
                                aria-controls="collapseDescription"
                            >
                                {{ "detail.tabsDescription"|trans|sw_sanitize }}
                            </button>
                        </h2>
                        
                        <div id="collapseDescription" 
                            class="accordion-collapse collapse show" 
                            aria-labelledby="headingDescription" 
                            data-bs-parent="#pdpInfoAccordion"
                        >
                            <div class="accordion-body">
                                {% sw_include '@Storefront/storefront/page/product-detail/description.html.twig' %}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endblock %}

            {% block page_product_detail_info_general_info %}
                {% if page.product.translated.customFields.generalInfo %}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGeneralInfo">
                            <button class="accordion-button collapsed" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#collapseGeneralInfo" 
                                aria-expanded="false" 
                                aria-controls="collapseGeneralInfo"
                            >
                                {{ "choju.detail.tabsGeneralInfo"|trans|sw_sanitize }}
                            </button>
                        </h2>

                        <div id="collapseGeneralInfo" 
                            class="accordion-collapse collapse" 
                            aria-labelledby="headingGeneralInfo" 
                            data-bs-parent="#pdpInfoAccordion"
                        >
                            <div class="accordion-body">
                                {{ page.product.translated.customFields.generalInfo }}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endblock %}

            {% block page_product_detail_info_review %}
                {% if config('core.listing.showReview') %}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGeneralInfo">
                            <button class="accordion-button collapsed" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#collapseGeneralInfo" 
                                aria-expanded="false" 
                                aria-controls="collapseGeneralInfo"
                            >
                                {{ "detail.tabsReview"|trans|sw_sanitize }}
                            </button>
                        </h2>

                        <div id="collapseGeneralInfo" 
                            class="accordion-collapse collapse" 
                            aria-labelledby="headingGeneralInfo" 
                            data-bs-parent="#pdpInfoAccordion"
                        >
                            <div class="accordion-body">
                                {% sw_include '@Storefront/storefront/page/product-detail/review/review.html.twig' with {'reviews': page.reviews} %}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endblock %}
        </div>
    </div>
{% endblock %}
